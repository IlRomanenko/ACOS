g++ chat_thread_duplex.cpp -Wall -lpthread -o chat